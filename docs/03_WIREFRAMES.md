# Shelfie 앱 와이어프레임 명세

기준 문서: `02_PRD.md`

## 화면 흐름 1: OCR 자동 등록

**사용자 목표:** 제품 라벨을 촬영하여 제품명과 유통기한을 자동으로 등록한다. (PRD User Story 1.1)

### 화면 1: 메인 목록 화면 (Main List Screen)

사용자가 등록한 제품 목록을 확인하고, 새로운 제품을 추가하는 앱의 시작점.

#### 구성 요소

1. 헤더 (Header)

   - **좌측:** 앱 로고 (Shelfie)
   - **우측:** 검색 아이콘 (돋보기 모양), 알림 아이콘 (종 모양)

2. 필터 및 정렬 (Filter & Sort)

   - **카테고리 필터:** 아이콘 기반의 수평 스크롤 리스트 (예: 전체, 냉장, 냉동, 실온, 욕실/화장대). 선택된 필터는 시각적으로 강조 표시.
   - **상품 개수:** 카테고리 필터 하단 좌측 끝에 선택된 카테고리 내 상품 개수 표시.
   - **정렬 옵션:** 카테고리 필터 하단 우측 끝에 현재 정렬 기준 텍스트 버튼 (예: 임박순)을 배치. 탭하면 정렬 기준 변경 옵션(최신 등록순, 이름순 등) 제공.

3. 상품 목록 (Product List)
   - **상태 A: Populated State (목록 있음)**
     - 수직 스크롤이 가능한 카드 형태의 리스트.
     - **카드 구성 요소:**
       - **사진:** 좌측에 제품 이미지 표시.
       - **상품명:** 우측 상단에 굵은 텍스트로 표시.
       - **D-Day:** 우측 중간에 남은 기간에 따라 색상이 변경되는 텍스트로 강조 표시 (예: D-2).
       - **유통기한:** 우측 하단에 전체 날짜 표시 (예: 2025.10.28 까지).
     - **카드 아이템의 동작 (Interactions):**
       - **탭 (Tap):** '화면 5: 상품 상세 화면'으로 전환된다.
       - **왼쪽으로 스와이프 (Swipe Left):** 카드 오른쪽에 [삭제] 버튼이 나타난다.
         - **[삭제] 버튼 탭:** 삭제 이유를 묻는 확인 팝업 (선택지: '유통기한 지나 폐기', '실수로 잘못 등록')을 표시한 후, 선택에 따라 데이터를 기록하고 목록에서 제거한다.
       - **길게 누르기 (Long Press):** 빠른 조작 메뉴(Context Menu)를 표시한다.
         - **메뉴 옵션:**
           - **[✔️ 사용 완료]:** 상품을 성공적으로 소비했음을 의미한다. '성공' 데이터로 기록되며 목록에서 제거된다.
           - **[🗑️ 삭제]:** 탭하면 '스와이프로 삭제' 시와 동일하게 삭제 이유를 묻는 확인 팝업이 나타난다.
           - **[✏️ 수정]:** '화면 5: 상품 상세 화면'으로 전환된다.
   - **상태 B: Empty State (목록 없음)**
     - 화면 중앙에 안내 일러스트와 텍스트를 표시.
     - **안내 문구:** "아직 등록된 상품이 없네요! n 아래 '+' 버튼을 눌러 첫 상품을 등록해보세요."
4. 상품 추가 버튼 (Floating Action Button)
   - 화면 우측 하단에 항상 떠 있는 원형의 '+' 아이콘 버튼.
   - **동작:** 탭하면 바로 '화면 2: 카메라 촬영 화면'으로 전환된다.

### 화면 2: 카메라 촬영 화면 (Camera Screen)

OCR 인식을 위해 제품 라벨을 촬영하는 화면. 사용자가 쉽고 정확하게 촬영하도록 안내하는 것을 목표로 한다.

#### 구성 요소

1. 카메라 뷰 (Camera View)

   - 전체 화면을 차지하며, 기기의 후면 카메라를 통해 실시간 영상을 보여준다.

2. 가이드라인 오버레이 (Guideline Overlay)

   - 화면 중앙에 사각형 형태의 가이드라인을 표시한다.
   - **안내 문구:** 가이드라인 위나 아래에 "사각형 안에 유통기한을 맞춰주세요"와 같은 텍스트를 표시하여 사용자 행동을 유도한다.

3. 하단 컨트롤 바 (Bottom Control Bar)

   - (중앙) **촬영 버튼 (Shutter Button):** 가장 크고 눈에 띄는 원형 버튼.
   - (좌측) **갤러리 아이콘 (Gallery Icon):** 이미 촬영된 사진을 불러올 수 있는 보조 기능.

4. 상단 컨트롤 바 (Top Control Bar)
   - (우측) **닫기 아이콘 (Close Icon 'X'):** 촬영을 취소하고 '화면 1: 메인 목록 화면'으로 돌아간다.
   - (좌측) **플래시 아이콘 (Flash Icon):** 탭하여 플래시를 켜거나 끌 수 있는 기능 (자동/On/Off).

### 화면 2.5: OCR 처리 중 로딩 화면 (Loading Screen)

사용자가 촬영을 완료한 후, 앱이 이미지에서 텍스트를 분석하고 추출하는 동안 표시되는 중간 화면.

#### 구성 요소

1. 로딩 인디케이터 (Loading Indicator)

   - 화면 중앙에 스피너(spinner)나 이와 유사한 애니메이션을 표시하여 시스템이 작동 중임을 시각적으로 보여준다.

2. 안내 텍스트 (Guidance Text)

   - 로딩 인디케이터 아래에 "사진을 분석하고 있어요..." 또는 "유통기한을 읽는 중..."과 같은 텍스트를 표시하여 사용자에게 현재 어떤 작업을 수행하고 있는지 알려준다.
   - **동작:** OCR 처리가 완료되면 '화면 3: OCR 결과 확인 및 수정 화면'으로 자동 전환된다.

### 화면 3: OCR 결과 확인 및 수정 화면 (OCR Result & Edit Screen)

촬영된 이미지에서 추출된 텍스트를 확인하고, 부족한 정보를 추가하거나 수정하여 최종 등록하는 화면.

#### 구성 요소

1. 촬영된 이미지 썸네일 (Image Thumbnail)

   - 화면 상단에 사용자가 방금 촬영한 사진(들)을 작게 표시하여 내용을 환기시킨다.

2. 정보 입력 필드 (Information Fields)

   - **상품명 필드:** OCR로 인식된 상품명 텍스트가 자동으로 입력된다. 사용자는 탭하여 직접 수정할 수 있다.
   - **유통기한 필드:** OCR로 인식된 유통기한 텍스트가 자동으로 입력된다. 탭하면 Date Picker가 나타나 날짜를 수정할 수 있다.
   - **카테고리 선택**

3. 상태별 UI 변화 (Conditional UI)

   - **상태 A: 모든 정보 인식 성공**
     - 상품명과 유통기한 필드가 모두 채워져 있다.
     - '등록하기' 버튼이 활성화되어 있다.
   - **상태 B: 일부 정보 인식 실패 (예: 유통기한 인식 실패)**
     - **안내 메시지 (Toast Popup):** "유통기한을 인식할 수 없어요"와 같은 메시지가 화면 하단에 잠시 나타났다가 사라진다.
     - 상품명 필드는 채워져 있으나, 유통기한 필드는 비어 있다.
     - 비어있는 유통기한 필드 옆에 **'유통기한 촬영'** 버튼(카메라 아이콘)이 표시된다.
       - **동작:** 이 버튼을 탭하면 다시 '화면 2: 카메라 촬영 화면'으로 전환된다. 촬영 완료 후 현재 화면으로 복귀하여 비어있던 필드를 채운다.
     - '등록하기' 버튼은 비활성화 상태이다. 모든 필수 정보가 입력되면 활성화된다.

4. 하단 버튼 (Bottom Buttons)

   - **'다시 촬영' 버튼:** 현재 결과가 만족스럽지 않을 경우, 이전 '화면 2: 카메라 촬영 화면'으로 돌아간다.
   - **'등록하기' 버튼 (Primary):** 모든 정보를 최종 확인하고 제품을 목록에 추가한다. 탭하면 '화면 4: 등록 완료 후 메인 목록'으로 전환된다.

### 화면 4: 등록 완료 후 메인 목록 (Updated Main List Screen)

새로운 상품 등록을 완료하고 돌아온 메인 목록 화면.

#### 구성 요소

1. **업데이트된 목록:** '화면 1'과 동일한 구조에, 방금 등록한 새로운 상품이 추가되어 있다.
2. **확인 메시지 (Toast Popup):** 화면 하단에 "새로운 상품이 등록되었어요!"와 같은 메시지가 잠시 나타났다가 사라져 사용자에게 작업이 성공적으로 완료되었음을 알려준다.

## 화면 흐름 2: 상품 상세 조회 및 수정

**사용자 목표:** 등록된 제품의 상세 정보를 확인하고, 정보를 수정하거나 삭제하며, 재고 및 개봉 여부를 관리한다.

### 화면 5: 상품 상세 화면 (Product Detail Screen)

사용자가 메인 목록에서 특정 상품을 탭했을 때 진입하는 화면. 상품의 모든 정보를 조회하고 관리하는 기능을 제공한다.

#### 구성 요소

1. 헤더 (Header)

   - (좌측) **뒤로가기 아이콘 ('<'):** 탭하면 '화면 1: 메인 목록 화면'으로 돌아간다.
   - (우측) **삭제 아이콘 (휴지통 모양):** 탭하면 메인 목록에서와 동일하게 삭제 이유를 묻는 확인 팝업을 띄운 후 상품을 삭제한다.

2. 상품 이미지 (Product Image)

   - 화면 상단에 사용자가 등록한 상품 이미지를 크게 표시한다. 이미지를 탭하면 사진을 변경(새로 촬영/갤러리에서 선택)할 수 있다.

3. 핵심 정보 영역 (Primary Info Area)

   - **상품명:** 굵고 큰 텍스트로 표시. 탭하면 텍스트 필드로 전환되어 수정 가능.
   - **D-Day 및 유통기한:** 남은 기간과 실제 유통기한 날짜를 함께 표시. 탭하면 Date Picker가 나타나 날짜 수정 가능.

4. 상세 정보 영역 (Secondary Info Area)

   - **카테고리:** 현재 설정된 카테고리와 이름 표시. 탭하면 카테고리 선택 화면으로 이동.
   - **재고 상태 관리 (PRD 2.4):**
     - **레이블:** '재고 상태'
     - **컨트롤:** \[넉넉해요\], \[얼마 안 남았어요\], \[다 썼어요\] 상태를 선택할 수 있는 버튼 그룹(Segmented Control 등)을 제공한다.
   - **개봉 여부 관리 (PRD 2.3):**
     - **레이블:** '개봉'
     - **컨트롤:** **토글 스위치**를 제공하여 개봉 상태를 On/Off 할 수 있다.
     - **조건부 표시:** 토글이 'On' 상태일 때만 아래 항목들이 나타난다.
       - **개봉일:** 상태 변경 시 기록된 날짜를 표시 (예: '개봉일: 2025.10.20'). 탭하면 Date Picker가 나타나 날짜 수정 가능.

## 화면 흐름 3: 푸시 알림

### 화면 6: 알림 목록 화면 (Notification List Screen)

#### 개요

- **목적:** 사용자에게 발송되었던 모든 푸시 알림 이력을 보여주고, 개별 알림을 탭하여 해당 상품 상세 화면으로 이동할 수 있도록 합니다.
- **진입점:** 메인 화면(화면 1) 상단의 알림 아이콘 탭, 또는 푸시 알림 직접 탭 시 (앱 실행 중/백그라운드 시)

#### 구성 요소

1.  **헤더 (Header):**
    - **뒤로 가기 버튼 (`<`):** 이전 화면(주로 메인 화면)으로 돌아갑니다.
    - **화면 제목:** "알림 목록"
2.  **전체 읽음 버튼 (Mark All as Read):** 모든 알림을 "읽음" 상태로 변경합니다.
3.  **알림 아이템 (Notification Item):**

    - **스타일:** 읽지 않은 알림은 primary color로 dot를 표시하고 background color를 다르게 합니다.
    - **제목:** "[상품명] 유통기한 D-X" 또는 "[상품명] 오늘까지!"
    - **내용:** 상세 알림 메시지 ("[상품명]의 유통기한이 X일 남았습니다.")
    - **시간 정보:** 알림이 발송된 날짜 (예: "2023-10-27")
    - **상호작용:** 탭하면 해당 알림과 관련된 상품의 상세 화면(화면 2)으로 이동합니다.

4.  **빈 상태 (Empty State):**
    - 알림이 없을 경우 "받은 알림이 없습니다." 등의 메시지를 표시합니다.

#### 동작 (Behavior)

- 앱 시작 시 백그라운드에서 푸시 알림 권한을 확인하고 요청합니다.
- 유통기한 임박 상품에 대해 주기적으로 로컬/원격 푸시 알림을 발송합니다.
- 알림을 탭하면 앱이 실행되거나 포그라운드로 전환되며, 해당 알림의 상품 상세 화면으로 이동합니다.
- '전체 읽음으로 표시' 버튼을 누르면 모든 알림이 읽음 상태로 바뀝니다.
- 알림 목록은 최신순으로 정렬됩니다.
- 스크롤을 통해 과거 알림을 확인할 수 있습니다.
